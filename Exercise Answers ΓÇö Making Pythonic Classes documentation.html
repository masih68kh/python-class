<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class=" js flexbox canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths" style="" lang="en"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Exercise Answers — Making Pythonic Classes  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/modernizr.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/documentation_options.js"></script>
        <script src="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/jquery.js"></script>
        <script src="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/underscore.js"></script>
        <script src="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/doctools.js"></script>
        <script src="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/language_data.js"></script>
    
    <script type="text/javascript" src="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/theme.js"></script>

    

  
  <link rel="stylesheet" href="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/theme.css" type="text/css">
  <link rel="stylesheet" href="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/pygments.css" type="text/css">
    <link rel="index" title="Index" href="https://pythonic-classes.trey.io/genindex.html">
    <link rel="search" title="Search" href="https://pythonic-classes.trey.io/search.html">
    <link rel="prev" title="Further Resources" href="https://pythonic-classes.trey.io/resources.html">

<style>
.wy-menu-vertical p.plain {
  color: #aaa;
}
.wy-menu-vertical a.plain {
  display: inline;
  padding: 0;
  line-height: initial;
  font-size: 100%;
  color: #ddd;
}
.wy-menu-vertical a.plain:hover {
  background: transparent;
  color: #eee;
}
.wy-menu-vertical .bio {
  padding-top: 4em;
  padding-right: 0.5em;
}
@media screen and (max-width: 768px) {
  .wy-menu-vertical .bio {
    display: none;
  }
}
@media screen and (max-height: 475px) {
  .wy-menu-vertical .bio {
    display: none;
  }
}
</style>


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://pythonic-classes.trey.io/index.html" class="icon icon-home"> Making Pythonic Classes
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          


            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="https://pythonic-classes.trey.io/test-onboarding.html">The Test Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://pythonic-classes.trey.io/classes.html">Classes Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://pythonic-classes.trey.io/properties.html">Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://pythonic-classes.trey.io/basic-dunders.html">Dunder Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://pythonic-classes.trey.io/public-interfaces.html">Public Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://pythonic-classes.trey.io/inheritance.html">Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://pythonic-classes.trey.io/dataclasses.html">Class Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://pythonic-classes.trey.io/advanced-dunders.html">Advanced Dunder Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://pythonic-classes.trey.io/resources.html">Further Resources</a></li>
<li class="toctree-l1 current"><a class="reference internal current" href="#"><span class="toctree-expand"></span>Exercise Answers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#class-exercises"><span class="toctree-expand"></span>Class Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bank-account">Bank Account</a></li>
<li class="toctree-l3"><a class="reference internal" href="#record-transactions">Record Transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supermap">SuperMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="#minheap">MinHeap</a></li>
<li class="toctree-l3"><a class="reference internal" href="#row">Row</a></li>
<li class="toctree-l3"><a class="reference internal" href="#month">Month</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ice-cream-flavor">Ice Cream Flavor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ice-cream-size">Ice Cream Size</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ice-cream">Ice Cream</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#property-exercises"><span class="toctree-expand"></span>Property Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#read-only-bankaccount-balance">Read-Only BankAccount Balance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#circle">Circle</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-radius-changes">Log Radius Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-radius-error">Set Radius Error</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vector-magnitude">Vector Magnitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="#full-name">Full Name</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dunder-exercises"><span class="toctree-expand"></span>Dunder Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vector">Vector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reverseview">ReverseView</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comparator">Comparator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#romannumeral">RomanNumeral</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comparable-month">Comparable Month</a></li>
<li class="toctree-l3"><a class="reference internal" href="#month-formatting">Month Formatting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monthdelta">MonthDelta</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monthdelta-arithmetic">MonthDelta Arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#truthy-account">Truthy Account</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comparable-bankaccount">Comparable BankAccount</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#interface-exercises"><span class="toctree-expand"></span>Interface Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#month-from-date">Month From Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="#romannumeral-from-integer">RomanNumeral From Integer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hidden-balance">Hidden Balance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#inheritance-exercises"><span class="toctree-expand"></span>Inheritance Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cyclic-list">Cyclic List</a></li>
<li class="toctree-l3"><a class="reference internal" href="#easy-dict">Easy Dict</a></li>
<li class="toctree-l3"><a class="reference internal" href="#minimum-balance">Minimum Balance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#doubly-linked-node">Doubly-Linked Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fieldtrackermixin">FieldTrackerMixin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#last-updated-dictionary">Last Updated Dictionary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#orderedcounter">OrderedCounter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#class-refactoring-exercises"><span class="toctree-expand"></span>Class Refactoring Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#next-date">Next Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="#next-date-functions">Next Date Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#next-tuesday">Next Tuesday</a></li>
<li class="toctree-l3"><a class="reference internal" href="#email-server">Email Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dataclass-exercises"><span class="toctree-expand"></span>Dataclass Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#immutable-vector">Immutable Vector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Comparable Month</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ice-cream-dataclasses">Ice Cream DataClasses</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">MonthDelta</a></li>
<li class="toctree-l3"><a class="reference internal" href="#immutable-month">Immutable Month</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-exercises"><span class="toctree-expand"></span>Advanced Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iterable-vector">Iterable Vector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-efficient-month">Memory-Efficient Month</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Immutable Vector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timer">Timer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fancydict">FancyDict</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          

<section class="bio">

  <img src="Exercise%20Answers%20%E2%80%94%20Making%20Pythonic%20Classes%20documentation_files/93a988bd85040f58f8417dc4be78c7de.jpg" style="margin: 0 0.75em;" align="left">

  <p class="plain">
  Taught by <a href="http://treyhunner.com/" class="plain">Trey Hunner</a> of <a href="https://truthful.technology/" class="plain">Truthful Technology LLC</a>.
  <a href="https://www.pythonmorsels.com/" class="plain">Practice Python weekly.</a>
  </p>

</section>


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="https://pythonic-classes.trey.io/index.html">Making Pythonic Classes</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            

  <div class="section" id="exercise-answers">
<h1>Exercise Answers<a class="headerlink" href="#exercise-answers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="class-exercises">
<h2>Class Exercises<a class="headerlink" href="#class-exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bank-account">
<h3>Bank Account<a class="headerlink" href="#bank-account" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">BankAccount</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> class that allows depositing and withdrawing money:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">classes</span> <span class="kn">import</span> <span class="n">BankAccount</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span><span class="o">.</span><span class="n">balance</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span><span class="o">.</span><span class="n">balance</span>
<span class="go">120</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span><span class="o">.</span><span class="n">balance</span>
<span class="go">80</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span>
<span class="go">BankAccount(balance=80)</span>
</pre></div>
</div>
<p>Your <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> class should also support transfers:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mary_account</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dana_account</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mary_account</span><span class="o">.</span><span class="n">transfer</span><span class="p">(</span><span class="n">dana_account</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mary_account</span><span class="o">.</span><span class="n">balance</span>
<span class="go">80</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dana_account</span><span class="o">.</span><span class="n">balance</span>
<span class="go">20</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>

    <span class="sd">"""Bank account including an account balance."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(balance=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_account</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
        <span class="n">other_account</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="record-transactions">
<h3>Record Transactions<a class="headerlink" href="#record-transactions" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">BankAccount</span></code> from the exercises directory.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test these changes, you need to modify the <code class="docutils literal notranslate"><span class="pre">BankAccountTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines with “BankAccount Transactions”.</p>
</div>
<p>Modify our class to record transactions for deposits and withdrawals.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">transactions</span></code>
 attribute should be added to our object that maintains a list of all 
transactions in our account.  Each transaction should be a tuple 
containing an action name (as a string), the amount the account changed,
 and the account balance after the change.</p>
<p>Example usage:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">classes</span> <span class="kn">import</span> <span class="n">BankAccount</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_account</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_account</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_account</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_account</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="mi">95</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_account</span><span class="o">.</span><span class="n">transactions</span>
<span class="go">[('OPEN', 10, 10), ('DEPOSIT', 100, 110), ('WITHDRAWAL', -40, 70), ('DEPOSIT', 95, 165)]</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>

    <span class="sd">"""Bank account that records transactions."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transactions</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">"OPEN"</span><span class="p">,</span> <span class="n">balance</span><span class="p">,</span> <span class="n">balance</span><span class="p">)]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(balance=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transactions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">"DEPOSIT"</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transactions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">"WITHDRAWAL"</span><span class="p">,</span> <span class="o">-</span><span class="n">amount</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_account</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
        <span class="n">other_account</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="supermap">
<h3>SuperMap<a class="headerlink" href="#supermap" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">SuperMap</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">SuperMap</span></code> from the exercises directory.</p>
<p>Make a class called <code class="docutils literal notranslate"><span class="pre">SuperMap</span></code> which accepts an iterable of objects and an iterable of attribute names to “index” on the given objects.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">SuperMap</span></code> class should have a <code class="docutils literal notranslate"><span class="pre">where</span></code> method which will accept an attribute name to filter on and the attribute value to filter by.</p>
<p>For example given instances of a <code class="docutils literal notranslate"><span class="pre">Point</span></code> class:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="sa">f</span><span class="s2">"Point(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">)"</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>
</pre></div>
</div>
<p>If these point objects are passed to a <code class="docutils literal notranslate"><span class="pre">SuperMap</span></code> object which indexes by the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> attributes:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="n">SuperMap</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">indexes</span><span class="o">=</span><span class="p">[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">])</span>
</pre></div>
</div>
<p>Then the <code class="docutils literal notranslate"><span class="pre">where</span></code> method should work like this:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">'x'</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">{Point(3, 4), Point(3, 6)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">'y'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">{Point(1, 2), Point(5, 2)}</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You’ll probably want to use the built-in <code class="docutils literal notranslate"><span class="pre">getattr</span></code> function.</p>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SuperMap</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objects</span><span class="o">=</span><span class="p">(),</span> <span class="n">indexes</span><span class="o">=</span><span class="p">()):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objects</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">indexes</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">{})</span>
                <span class="n">index</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">where</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="p">[</span><span class="n">name</span><span class="p">]:</span>
            <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="n">value</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="minheap">
<h3>MinHeap<a class="headerlink" href="#minheap" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">MinHeap</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">MinHeap</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">MinHeap</span></code> class which implements a <em>heap</em> data structure.
You’ll want to rely on the following functions in the <a class="reference external" href="https://docs.python.org/3/library/heapq.html">heapq module</a> to do this: <a class="reference external" href="https://docs.python.org/3/library/heapq.html#heapq.heapify">heapify</a>, <a class="reference external" href="https://docs.python.org/3/library/heapq.html#heapq.heappop">heappop</a>, and <a class="reference external" href="https://docs.python.org/3/library/heapq.html#heapq.heappush">heappush</a>.</p>
<p>Your <cite>MinHeap</cite> should accept an iterable of items and should allow the smallest item in the heap to be viewed (with <cite>peek</cite>) or removed (with <cite>pop</cite>).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span> <span class="o">=</span> <span class="n">MinHeap</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span><span class="o">.</span><span class="n">peek</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">3</span>
<span class="go">```</span>
</pre></div>
</div>
<p>Your heap should also allow more items to be added to it with <cite>push</cite>:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span> <span class="o">=</span> <span class="n">MinHeap</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span><span class="o">.</span><span class="n">peek</span><span class="p">()</span>
<span class="go">5</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">heapq</span> <span class="kn">import</span> <span class="n">heapify</span><span class="p">,</span> <span class="n">heappop</span><span class="p">,</span> <span class="n">heappush</span>


<span class="k">class</span> <span class="nc">MinHeap</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iterable</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heap</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
        <span class="n">heapify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heap</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">heappush</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heap</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heap</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">heap</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="row">
<h3>Row<a class="headerlink" href="#row" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">Row</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.</p>
<p>Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Row</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">Row</span></code> class that accepts any keyword arguments given to it and stores these arguments as attributes.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">row</span> <span class="o">=</span> <span class="n">Row</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row</span><span class="o">.</span><span class="n">a</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row</span><span class="o">.</span><span class="n">b</span>
<span class="go">2</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Row</span><span class="p">:</span>

    <span class="sd">"""Row class that stores all given arguments as attributes."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="s2">", "</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">"</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">attrs</span><span class="si">}</span><span class="s2">)"</span>
</pre></div>
</div>
<p>Or using <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> to initialize and to get a nice string representation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Row</span><span class="p">:</span>

    <span class="sd">"""Row class that stores all given arguments as attributes."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="s2">", "</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">"</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">attrs</span><span class="si">}</span><span class="s2">)"</span>
</pre></div>
</div>
</div>
<div class="section" id="month">
<h3>Month<a class="headerlink" href="#month" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">Month</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Month</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">Month</span></code> class that has <code class="docutils literal notranslate"><span class="pre">year</span></code> and <code class="docutils literal notranslate"><span class="pre">month</span></code> attributes.
This class should have two string representations and a <code class="docutils literal notranslate"><span class="pre">first</span></code> method that returns a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> object representing the first day of the given month.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol_month</span> <span class="o">=</span> <span class="n">Month</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol_month</span>
<span class="go">Month(year=2020, month=1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">python2_eol_month</span><span class="p">)</span>
<span class="go">'2020-01'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">python2_eol_month</span><span class="p">)</span>
<span class="go">2020-01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol_month</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">datetime.date(2020, 1, 1)</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>


<span class="k">class</span> <span class="nc">Month</span><span class="p">:</span>

    <span class="sd">"""Class representing an entire month."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span> <span class="o">=</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Human-readable Month object format."""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">"</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Dev-friendly Month object format."""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(year=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">, month=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return the date of the first day of the Month."""</span>
        <span class="k">return</span> <span class="n">date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="ice-cream-flavor">
<h3>Ice Cream Flavor<a class="headerlink" href="#ice-cream-flavor" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">Flavor</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Flavor</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">Flavor</span></code> class that has <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">ingredients</span></code>, and <code class="docutils literal notranslate"><span class="pre">has_dairy</span></code> attributes.
The <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute should be a required string.
The <code class="docutils literal notranslate"><span class="pre">ingredients</span></code> attribute should be an optional iterable.
The <code class="docutils literal notranslate"><span class="pre">has_dairy</span></code> attribute should be an optional boolean value (defaulting to <code class="docutils literal notranslate"><span class="pre">True</span></code>).
Instances of the <code class="docutils literal notranslate"><span class="pre">Flavor</span></code> class should also have a nice string representation.</p>
<p>It should work like this:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vanilla</span> <span class="o">=</span> <span class="n">Flavor</span><span class="p">(</span><span class="s2">"vanilla"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vanilla</span><span class="o">.</span><span class="n">name</span>
<span class="go">'vanilla'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vanilla</span><span class="o">.</span><span class="n">has_dairy</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vanilla</span><span class="o">.</span><span class="n">ingredients</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vanilla</span>
<span class="go">Flavor(name='vanilla', ingredients=[], has_dairy=True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mint_chip</span> <span class="o">=</span> <span class="n">Flavor</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">"mint chip"</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ingredients</span><span class="o">=</span><span class="p">[</span><span class="s2">"sugar"</span><span class="p">,</span> <span class="s2">"mint"</span><span class="p">,</span> <span class="s2">"cashews"</span><span class="p">,</span> <span class="s2">"coconut milk"</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">has_dairy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mint_chip</span><span class="o">.</span><span class="n">ingredients</span>
<span class="go">['sugar', 'mint', 'cashews', 'coconut milk']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mint_chip</span><span class="o">.</span><span class="n">has_dairy</span>
<span class="go">False</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Flavor</span><span class="p">:</span>

    <span class="sd">"""Flavor of ice cream."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ingredients</span><span class="o">=</span><span class="p">[],</span> <span class="n">has_dairy</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ingredients</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ingredients</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_dairy</span> <span class="o">=</span> <span class="n">has_dairy</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(name=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="si">}</span><span class="s2">,"</span>
            <span class="sa">f</span><span class="s2">" ingredients=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ingredients</span><span class="si">}</span><span class="s2">,"</span>
            <span class="sa">f</span><span class="s2">" has_dairy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">has_dairy</span><span class="si">}</span><span class="s2">)"</span>
        <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="ice-cream-size">
<h3>Ice Cream Size<a class="headerlink" href="#ice-cream-size" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">Size</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Size</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">Size</span></code> class that has <code class="docutils literal notranslate"><span class="pre">quantity</span></code>, <code class="docutils literal notranslate"><span class="pre">unit</span></code>, and <code class="docutils literal notranslate"><span class="pre">price</span></code> attributes.
Instances of the <code class="docutils literal notranslate"><span class="pre">Size</span></code> class should also have two string representations (as shown below).</p>
<p>It should work like this:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">one_quart</span> <span class="o">=</span> <span class="n">Size</span><span class="p">(</span><span class="n">quantity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">"quart"</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s2">"$9"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">one_quart</span>
<span class="go">Size(quantity=1, unit='quart', price='$9')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">one_quart</span><span class="p">)</span>
<span class="go">1 quart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">two_scoops</span> <span class="o">=</span> <span class="n">Size</span><span class="p">(</span><span class="n">quantity</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">"scoop"</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s2">"$3"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">two_scoops</span>
<span class="go">Size(quantity=2, unit='scoop', price='$3')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">two_scoops</span><span class="p">)</span>
<span class="go">2 scoops</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Size</span><span class="p">:</span>

    <span class="sd">"""Ice cream size."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">unit</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quantity</span> <span class="o">=</span> <span class="n">quantity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="n">unit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">price</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">units</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantity</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">unit</span><span class="si">}</span><span class="s2">s"</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">quantity</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">units</span><span class="si">}</span><span class="s2">"</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(quantity=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="si">}</span><span class="s2">,"</span>
            <span class="sa">f</span><span class="s2">" unit=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span><span class="si">}</span><span class="s2">, price=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">price</span><span class="p">)</span><span class="si">}</span><span class="s2">)"</span>
        <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="ice-cream">
<h3>Ice Cream<a class="headerlink" href="#ice-cream" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">IceCream</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">IceCream</span></code> from the exercises directory.</p>
<p>Make an <code class="docutils literal notranslate"><span class="pre">IceCream</span></code> class that has <code class="docutils literal notranslate"><span class="pre">flavor</span></code> and <code class="docutils literal notranslate"><span class="pre">size</span></code> attributes.</p>
<p>It should work like this:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">one_quart</span> <span class="o">=</span> <span class="n">Size</span><span class="p">(</span><span class="n">quantity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">"quart"</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s2">"$9"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vanilla</span> <span class="o">=</span> <span class="n">Flavor</span><span class="p">(</span><span class="s2">"vanilla"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quart_of_vanilla</span> <span class="o">=</span> <span class="n">IceCream</span><span class="p">(</span><span class="n">flavor</span><span class="o">=</span><span class="n">vanilla</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">one_quart</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">quart_of_vanilla</span><span class="p">)</span>
<span class="go">1 quart of vanilla</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">IceCream</span><span class="p">(</span><span class="n">flavor</span><span class="o">=</span><span class="n">vanilla</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Size</span><span class="p">(</span><span class="n">quantity</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">"scoop"</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s2">"$3"</span><span class="p">)))</span>
<span class="go">2 scoops of vanilla</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Flavor</span><span class="p">:</span>

    <span class="sd">"""Flavor of ice cream."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ingredients</span><span class="o">=</span><span class="p">[],</span> <span class="n">has_dairy</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ingredients</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ingredients</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_dairy</span> <span class="o">=</span> <span class="n">has_dairy</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(name=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="si">}</span><span class="s2">,"</span>
            <span class="sa">f</span><span class="s2">" ingredients=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ingredients</span><span class="si">}</span><span class="s2">,"</span>
            <span class="sa">f</span><span class="s2">" has_dairy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">has_dairy</span><span class="si">}</span><span class="s2">)"</span>
        <span class="p">)</span>


<span class="k">class</span> <span class="nc">Size</span><span class="p">:</span>

    <span class="sd">"""Ice cream size."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">unit</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quantity</span> <span class="o">=</span> <span class="n">quantity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="n">unit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">price</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">units</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantity</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">unit</span><span class="si">}</span><span class="s2">s"</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">quantity</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">units</span><span class="si">}</span><span class="s2">"</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(quantity=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="si">}</span><span class="s2">,"</span>
            <span class="sa">f</span><span class="s2">" unit=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span><span class="si">}</span><span class="s2">, price=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">price</span><span class="p">)</span><span class="si">}</span><span class="s2">)"</span>
        <span class="p">)</span>


<span class="k">class</span> <span class="nc">IceCream</span><span class="p">:</span>

    <span class="sd">"""Ice cream to be ordered in our ice cream shop."""</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flavor</span> <span class="o">=</span> <span class="n">flavor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="property-exercises">
<h2>Property Exercises<a class="headerlink" href="#property-exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="read-only-bankaccount-balance">
<h3>Read-Only BankAccount Balance<a class="headerlink" href="#read-only-bankaccount-balance" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">BankAccountTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines which contain “Read-Only BankAccount”</p>
</div>
<p>To test this exercise, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">BankAccount</span></code> from the exercises directory.</p>
<p>Make the <code class="docutils literal notranslate"><span class="pre">balance</span></code> attribute on your <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> class read-only, meaning writing to <code class="docutils literal notranslate"><span class="pre">balance</span></code> isn’t allowed but calling all balance-changing methods (<code class="docutils literal notranslate"><span class="pre">deposit</span></code>, <code class="docutils literal notranslate"><span class="pre">withdraw</span></code>, <code class="docutils literal notranslate"><span class="pre">transfer</span></code>) and reading from the <code class="docutils literal notranslate"><span class="pre">balance</span></code> attribute should still work.</p>
<p><strong>Answers</strong></p>
<p>You’ll need to make <code class="docutils literal notranslate"><span class="pre">balance</span></code> into a <code class="docutils literal notranslate"><span class="pre">property</span></code> and hide the balance in a “hidden” attribute (<code class="docutils literal notranslate"><span class="pre">_balance</span></code> is the name we use below).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>

    <span class="sd">"""Bank account including an account balance."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_balance</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(balance=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_balance</span> <span class="o">+=</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_balance</span> <span class="o">-=</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_account</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
        <span class="n">other_account</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">balance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_balance</span>
</pre></div>
</div>
</div>
<div class="section" id="circle">
<h3>Circle<a class="headerlink" href="#circle" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">Circle</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">properties.py</span></code>.</p>
<p>Edit the <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> file in the exercises directory to implement this exercise.  To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Circle</span></code> from the exercises directory.</p>
<p>Create a <code class="docutils literal notranslate"><span class="pre">Circle</span></code> class which:</p>
<ul class="simple">
<li><p>can be constructed with an explicit <code class="docutils literal notranslate"><span class="pre">radius</span></code> or the default radius of <code class="docutils literal notranslate"><span class="pre">1</span></code></p></li>
<li><p>has an <code class="docutils literal notranslate"><span class="pre">area</span></code> property which auto-updates based on radius changes</p></li>
<li><p>has a <code class="docutils literal notranslate"><span class="pre">diameter</span></code> property which auto-updates based on radius changes</p></li>
<li><p>auto-updates the <code class="docutils literal notranslate"><span class="pre">radius</span></code> property based on <code class="docutils literal notranslate"><span class="pre">diameter</span></code> changes</p></li>
</ul>
<p>Example usage:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">circle1</span> <span class="o">=</span> <span class="n">circle</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">radius</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">area</span>
<span class="go">3.141592653589793</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">diameter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">area</span>
<span class="go">12.566370614359172</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">diameter</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">radius</span>
<span class="go">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">area</span>
<span class="go">78.53981633974483</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="k">class</span> <span class="nc">Circle</span><span class="p">:</span>

    <span class="sd">"""Circle with radius, area, etc."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">**</span> <span class="mi">2</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">diameter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="mi">2</span>

    <span class="nd">@diameter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">diameter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diameter</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">diameter</span> <span class="o">/</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="log-radius-changes">
<h3>Log Radius Changes<a class="headerlink" href="#log-radius-changes" title="Permalink to this headline">¶</a></h3>
<p>Modify the <code class="docutils literal notranslate"><span class="pre">Circle</span></code> class we defined previously in <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> to use a property for the radius and record changes to the radius in a <code class="docutils literal notranslate"><span class="pre">radius_changes</span></code> attribute.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test these changes, you should modify the <code class="docutils literal notranslate"><span class="pre">CircleTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">properties_test.py</span></code> to remove the <code class="docutils literal notranslate"><span class="pre">unittest.skip</span></code> line which contains “Log Radius Changes”.</p>
</div>
<p>Example usage:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">radius</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">radius_changes</span>
<span class="go">[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">radius_changes</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You will need to store the actual radius somewhere.  You may want to use a <code class="docutils literal notranslate"><span class="pre">_radius</span></code> attribute when converting the <code class="docutils literal notranslate"><span class="pre">radius</span></code> to a property.</p>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="k">class</span> <span class="nc">Circle</span><span class="p">:</span>

    <span class="sd">"""Circle with radius, area, etc."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius_changes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">**</span> <span class="mi">2</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">diameter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="mi">2</span>

    <span class="nd">@diameter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">diameter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diameter</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">diameter</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span>

    <span class="nd">@radius</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius_changes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span> <span class="o">=</span> <span class="n">radius</span>
</pre></div>
</div>
</div>
<div class="section" id="set-radius-error">
<h3>Set Radius Error<a class="headerlink" href="#set-radius-error" title="Permalink to this headline">¶</a></h3>
<p>Take our <code class="docutils literal notranslate"><span class="pre">Circle</span></code> class in <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> and modify it again to raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when the <code class="docutils literal notranslate"><span class="pre">radius</span></code> or <code class="docutils literal notranslate"><span class="pre">diameter</span></code> are set to a negative number.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test these changes, you should modify the <code class="docutils literal notranslate"><span class="pre">CircleTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">properties_test.py</span></code> to remove the <code class="docutils literal notranslate"><span class="pre">unittest.skip</span></code> line which contains “Set Radius Error”</p>
</div>
<p>Example usage:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">circle</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">"shapes.py"</span>, line <span class="m">18</span>, in <span class="n">radius</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Radius cannot be negative"</span><span class="p">)</span>
<span class="gr">ValueError</span>: <span class="n">Radius cannot be negative</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="k">class</span> <span class="nc">Circle</span><span class="p">:</span>

    <span class="sd">"""Circle with radius, area, etc."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius_changes</span> <span class="o">=</span> <span class="p">[</span><span class="n">radius</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">**</span> <span class="mi">2</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">diameter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="mi">2</span>

    <span class="nd">@diameter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">diameter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diameter</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">diameter</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span>

    <span class="nd">@radius</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">radius</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Radius cannot be negative!"</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius_changes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span> <span class="o">=</span> <span class="n">radius</span>
</pre></div>
</div>
</div>
<div class="section" id="vector-magnitude">
<h3>Vector Magnitude<a class="headerlink" href="#vector-magnitude" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">Vector</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">properties.py</span></code>.
Edit the file <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> in the exercises directory to implement this exercise.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Vector</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">Vector</span></code> class that stores 3-D vector data.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">Vector</span></code> class should have an auto-updating <code class="docutils literal notranslate"><span class="pre">magnitude</span></code> attribute.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">magnitude</span></code> should be <code class="docutils literal notranslate"><span class="pre">sqrt(x**2</span> <span class="pre">+</span> <span class="pre">y**2</span> <span class="pre">+</span> <span class="pre">z**2)</span></code>.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">x</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">z</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">magnitude</span>
<span class="go">7.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">magnitude</span>
<span class="go">11.0</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>


<span class="k">class</span> <span class="nc">Vector</span><span class="p">:</span>

    <span class="sd">"""Class representing a 3 dimensional vector."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">magnitude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return the magnitude of the Vector"""</span>
        <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="full-name">
<h3>Full Name<a class="headerlink" href="#full-name" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">Person</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">properties.py</span></code>.</p>
<p>Edit the <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> file in the exercises directory to implement this exercise.  To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Person</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">Person</span></code> class which has a <code class="docutils literal notranslate"><span class="pre">first_name</span></code> and <code class="docutils literal notranslate"><span class="pre">last_name</span></code> attribute and a <code class="docutils literal notranslate"><span class="pre">name</span></code> property which is the combination <code class="docutils literal notranslate"><span class="pre">first_name</span></code> and <code class="docutils literal notranslate"><span class="pre">last_name</span></code>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">trey</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s2">"Trey"</span><span class="p">,</span> <span class="s2">"Hunner"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey</span><span class="o">.</span><span class="n">name</span>
<span class="go">'Trey Hunner'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey</span><span class="o">.</span><span class="n">last_name</span> <span class="o">=</span> <span class="s2">"Smith"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey</span><span class="o">.</span><span class="n">name</span>
<span class="go">'Trey Smith'</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>

    <span class="sd">"""Person with first and last name."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_name</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_name</span> <span class="o">=</span> <span class="n">last</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return first and last name joined together."""</span>
        <span class="k">return</span> <span class="s2">" "</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_name</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dunder-exercises">
<h2>Dunder Exercises<a class="headerlink" href="#dunder-exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="vector">
<h3>Vector<a class="headerlink" href="#vector" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Vector</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> file in the exercises directory to implement this exercise.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Vector</span></code> from the exercises directory.</p>
<p>Edit the <code class="docutils literal notranslate"><span class="pre">Vector</span></code> class to make sure it supports equality comparisons, addition, subtraction, and multiplication.
Note that addition, subtraction, and multiplication are <em>not</em> in-place operations, but should instead return new Vector objects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test these changes, you will need to modify the <code class="docutils literal notranslate"><span class="pre">VectorTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">properties_test.py</span></code> to remove or comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines that contains “Vector Equality”, “Vector Adding”, and “Vector Multiplying”.</p>
</div>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">==</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">==</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">==</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">-</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">==</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">3</span> <span class="o">*</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Vector</span><span class="p">:</span>

    <span class="sd">"""Class representing a 3 dimensional vector."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">z</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">z</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scalar</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scalar</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">scalar</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">scalar</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">*</span> <span class="n">scalar</span>
        <span class="p">)</span>

    <span class="fm">__rmul__</span> <span class="o">=</span> <span class="fm">__mul__</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">magnitude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return the magnitude of the Vector"""</span>
        <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="reverseview">
<h3>ReverseView<a class="headerlink" href="#reverseview" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">ReverseView</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code>.
Edit the file <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code> in the exercises directory to implement this exercise.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">ReverseView</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">ReverseView</span></code> class that works like the wraps around a given sequence, acting a sort of “reverse proxy”.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_numbers</span> <span class="o">=</span> <span class="n">ReverseView</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">reverse_numbers</span><span class="p">)</span>
<span class="go">[11, 7, 4, 3, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">reverse_numbers</span><span class="p">)</span>
<span class="go">[11, 7, 4, 3, 1, 2]</span>
</pre></div>
</div>
<p>In addition to being iterable, your <code class="docutils literal notranslate"><span class="pre">ReverseView</span></code> objects should have a length, be indexable, and have a string representation that looks just like a list:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_numbers</span> <span class="o">=</span> <span class="n">ReverseView</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">reverse_numbers</span><span class="p">)</span>
<span class="go">'[11, 7, 4, 3, 1, 2]'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_numbers</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">reverse_numbers</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
<p>If the sequence passed into <code class="docutils literal notranslate"><span class="pre">ReverseView</span></code> is updated, the <code class="docutils literal notranslate"><span class="pre">ReverseView</span></code> object should reflect the new values:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_numbers</span> <span class="o">=</span> <span class="n">ReverseView</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">reverse_numbers</span><span class="p">)</span>
<span class="go">[11, 7, 4, 3, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_numbers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">reverse_numbers</span><span class="p">)</span>
<span class="go">[18, 11, 7, 4, 3, 1, 2]</span>
</pre></div>
</div>
<p>Also your <code class="docutils literal notranslate"><span class="pre">ReverseView</span></code>
 utility shouldn’t take up an unnecessary amount of memory: don’t store a
 list of reversed items and don’t slice the given sequence to reverse 
it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Sequence</span>


<span class="k">class</span> <span class="nc">ReverseView</span><span class="p">(</span><span class="n">Sequence</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence</span> <span class="o">=</span> <span class="n">sequence</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sequence</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sequence</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="p">(</span><span class="n">index</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">indices</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-</span> <span class="n">index</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span> <span class="n">index</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"["</span> <span class="o">+</span> <span class="s2">", "</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"]"</span>
</pre></div>
</div>
</div>
<div class="section" id="comparator">
<h3>Comparator<a class="headerlink" href="#comparator" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code>.
Edit the file <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code> in the exercises directory to implement this exercise as described below.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Comparator</span></code> from the exercises directory.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> class  which allows the <code class="docutils literal notranslate"><span class="pre">==</span></code> operator to work as an “almost equal” comparison for floating point numbers.
Input to the <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> class is the number to compare against.
For example, if you want to be able to test if a number is “almost equal” to 0.12, then you create a <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> with 0.12.</p>
<p>Example: Note how floating point numbers are not always exactly what 
we think they are (due to the way floating point numbers are stored), 
and how we can use a <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> to check this:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.02</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">==</span> <span class="mf">0.12</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span>
<span class="go">0.12000000000000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_number</span> <span class="o">=</span> <span class="n">Comparator</span><span class="p">(</span><span class="mf">0.12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">==</span> <span class="n">target_number</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Your <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> object should have a default <code class="docutils literal notranslate"><span class="pre">delta</span></code> value of <code class="docutils literal notranslate"><span class="pre">0.0000001</span></code> (meaning numbers should be no further than that from your target number in order to compare as <code class="docutils literal notranslate"><span class="pre">True</span></code>).
This <code class="docutils literal notranslate"><span class="pre">delta</span></code> value should be customizable.
The greatest <code class="docutils literal notranslate"><span class="pre">delta</span></code> should be used when comparing two <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> objects.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">close_to_five</span> <span class="o">=</span> <span class="n">Comparator</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">close_to_five</span> <span class="o">==</span> <span class="mf">5.05</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">close_to_five</span> <span class="o">==</span> <span class="mf">4.98</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">close_to_five</span> <span class="o">==</span> <span class="mf">5.2</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Your <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> object should also have a nice string representation.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">close_to_five</span>
<span class="go">Comparator(5, delta=0.1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_number</span>
<span class="go">Comparator(0.12, delta=1e-07)</span>
</pre></div>
</div>
<p>The class should allow <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> objects to be added and subtracted with other numbers and with other <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> objects.
The largest <code class="docutils literal notranslate"><span class="pre">delta</span></code> should be maintained when adding/subtracting:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">almost_100</span> <span class="o">=</span> <span class="n">Comparator</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almost_50</span> <span class="o">=</span> <span class="n">almost_100</span> <span class="o">-</span> <span class="mi">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almost_110</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">almost_100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almost_50</span>
<span class="go">Comparator(50, delta=1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">109</span> <span class="o">==</span> <span class="n">almost_110</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">108</span> <span class="o">==</span> <span class="n">almost_110</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">nearly_five</span> <span class="o">=</span> <span class="n">Comparator</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almost_100</span> <span class="o">=</span> <span class="n">Comparator</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almost_105</span> <span class="o">=</span> <span class="n">almost_100</span> <span class="o">+</span> <span class="n">nearly_five</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">almost_105</span>
<span class="go">Comparator(105, delta=1)</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">isclose</span>


<span class="k">class</span> <span class="nc">Comparator</span><span class="p">:</span>

    <span class="sd">"""Object that is equal to a very small range of numbers."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">1e-7</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delta</span> <span class="o">=</span> <span class="n">delta</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"Comparator(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">, delta=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">delta</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">isclose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">rel_tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">abs_tol</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Comparator</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Comparator</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
                <span class="n">delta</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delta</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">delta</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">Comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">+</span> <span class="n">other</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span>

    <span class="fm">__radd__</span> <span class="o">=</span> <span class="fm">__add__</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Comparator</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Comparator</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
                <span class="n">delta</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delta</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">delta</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">Comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">-</span> <span class="n">other</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Comparator</span><span class="p">(</span><span class="n">other</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="romannumeral">
<h3>RomanNumeral<a class="headerlink" href="#romannumeral" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code>.
Edit the file <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code> in the exercises directory to implement this exercise as described below.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">RomanNumeral</span></code> from the exercises directory.</p>
<p>Create a <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> class that represents Roman Numerals.
It will accept a Roman Numeral string to create an instance, and support converting it to an integer.
Also make nice string representations for your <cite>RomanNumeral</cite> class.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">four</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'IV'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">four</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">four</span>
<span class="go">RomanNumeral('IV')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">four</span><span class="p">)</span>
<span class="go">'IV'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nineteen_ninety_nine</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'MCMXCIX'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nineteen_ninety_nine</span>
<span class="go">RomanNumeral('MCMXCIX')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">nineteen_ninety_nine</span><span class="p">)</span>
<span class="go">'MCMXCIX'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">nineteen_ninety_nine</span><span class="p">)</span>
<span class="go">MCMXCIX</span>
</pre></div>
</div>
<p>Your <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> class should support addition with both integers and other <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> objects.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'XI'</span><span class="p">)</span> <span class="o">+</span> <span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'II'</span><span class="p">)</span>
<span class="go">RomanNumeral('XIII')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'XI'</span><span class="p">)</span> <span class="o">+</span> <span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'III'</span><span class="p">)</span>
<span class="go">RomanNumeral('XIV')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'IIII'</span><span class="p">)</span> <span class="o">+</span> <span class="mi">12</span>
<span class="go">RomanNumeral('XVI')</span>
</pre></div>
</div>
<p>Implement equality and ordering for <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> objects.</p>
<p>The rules for this are that:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> objects should be comparable to other <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> objects</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> objects should be comparable to integers</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> objects can be compared using equality/inequality to strings, but cannot be ordered with strings</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'XIV'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen2</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'XIIII'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fifteen</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="p">(</span><span class="s1">'XV'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">==</span> <span class="mi">14</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">==</span> <span class="n">fourteen2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">==</span> <span class="n">fifteen</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">&lt;</span> <span class="n">fifteen</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">&lt;</span> <span class="mi">15</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">&gt;</span> <span class="n">fifteen</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">&lt;=</span> <span class="n">fifteen</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">==</span> <span class="s2">"XIV"</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fourteen</span> <span class="o">&lt;</span> <span class="s2">"XIV"</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">'&lt;' not supported between instances of 'RomanNumeral' and 'str'</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may find it useful to include these functions as static methods of the class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">roman_to_int</span><span class="p">(</span><span class="n">numeral</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">next_symbol</span> <span class="ow">in</span> <span class="n">zip_longest</span><span class="p">(</span><span class="n">numeral</span><span class="p">,</span> <span class="n">numeral</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">SYMBOLS</span><span class="p">[</span><span class="n">symbol</span><span class="p">]</span>
        <span class="n">next_value</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">SYMBOLS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">next_symbol</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">next_value</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="o">-</span><span class="n">value</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">total</span>

<span class="k">def</span> <span class="nf">int_to_roman</span><span class="p">(</span><span class="n">integer</span><span class="p">):</span>
    <span class="n">numeral</span> <span class="o">=</span> <span class="s2">""</span>
    <span class="k">for</span> <span class="n">value</span><span class="p">,</span> <span class="n">symbols</span> <span class="ow">in</span> <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">VALUES</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">integer</span> <span class="o">&gt;=</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">integer</span> <span class="o">-=</span> <span class="n">value</span>
            <span class="n">numeral</span> <span class="o">+=</span> <span class="n">symbols</span>
    <span class="k">return</span> <span class="n">numeral</span>
</pre></div>
</div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">total_ordering</span>
<span class="kn">from</span> <span class="nn">numbers</span> <span class="kn">import</span> <span class="n">Number</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">zip_longest</span>


<span class="nd">@total_ordering</span>
<span class="k">class</span> <span class="nc">RomanNumeral</span><span class="p">:</span>

    <span class="sd">"""Class for using Roman Numerals like numbers."""</span>

    <span class="n">VALUES</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">'M'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">900</span><span class="p">,</span> <span class="s1">'CM'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s1">'D'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="s1">'CD'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="s1">'XC'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="s1">'L'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="s1">'XL'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">'X'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="s1">'IX'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s1">'V'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'IV'</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'I'</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="n">SYMBOLS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'M'</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">'D'</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">'L'</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">'X'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">'V'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'I'</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">roman_to_int</span><span class="p">(</span><span class="n">numeral</span><span class="p">):</span>
        <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">next_symbol</span> <span class="ow">in</span> <span class="n">zip_longest</span><span class="p">(</span><span class="n">numeral</span><span class="p">,</span> <span class="n">numeral</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">SYMBOLS</span><span class="p">[</span><span class="n">symbol</span><span class="p">]</span>
            <span class="n">next_value</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">SYMBOLS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">next_symbol</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">next_value</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="o">-</span><span class="n">value</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="n">total</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">int_to_roman</span><span class="p">(</span><span class="n">integer</span><span class="p">):</span>
        <span class="n">numeral</span> <span class="o">=</span> <span class="s2">""</span>
        <span class="k">for</span> <span class="n">value</span><span class="p">,</span> <span class="n">symbols</span> <span class="ow">in</span> <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">VALUES</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">integer</span> <span class="o">&gt;=</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">integer</span> <span class="o">-=</span> <span class="n">value</span>
                <span class="n">numeral</span> <span class="o">+=</span> <span class="n">symbols</span>
        <span class="k">return</span> <span class="n">numeral</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">roman_to_int</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">int_to_roman</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">!r}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">RomanNumeral</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">RomanNumeral</span><span class="p">(</span>
                <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">int_to_roman</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">RomanNumeral</span><span class="p">(</span>
                <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">int_to_roman</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="n">other</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">RomanNumeral</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Number</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">other</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="n">other</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">RomanNumeral</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">int</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Number</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="n">other</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>
</pre></div>
</div>
</div>
<div class="section" id="comparable-month">
<h3>Comparable Month<a class="headerlink" href="#comparable-month" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Month</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">MonthTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines which contains  “Comparable Month”</p>
</div>
<p>To test this exercise, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Month</span></code> from the exercises directory.</p>
<p>Add the ability to make <code class="docutils literal notranslate"><span class="pre">Month</span></code> instances be comparable to each other using equality and ordering operators.
<code class="docutils literal notranslate"><span class="pre">Month</span></code> objects <em>should not</em> be comparable to tuples, lists, <code class="docutils literal notranslate"><span class="pre">date</span></code> objects, or other non-<code class="docutils literal notranslate"><span class="pre">Month</span></code> objects (just as tuples and lists are not comparable to each other).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">classes</span> <span class="kn">import</span> <span class="n">Month</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">=</span> <span class="n">Month</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pycon_2019</span> <span class="o">=</span> <span class="n">Month</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">==</span> <span class="n">Month</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">==</span> <span class="n">pycon_2019</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">&lt;</span> <span class="n">pycon_2019</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">&gt;</span> <span class="n">pycon_2019</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">Month</span><span class="p">(</span><span class="mi">1998</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">Month</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)])</span>
<span class="go">[Month(1998, 12), Month(1999, 12), Month(2000, 1)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Month</span><span class="p">(</span><span class="mi">1998</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1998</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">'&lt;' not supported between instances of 'Month' and 'tuple'</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">total_ordering</span>


<span class="nd">@total_ordering</span>
<span class="k">class</span> <span class="nc">Month</span><span class="p">:</span>
    <span class="sd">"""Class where instances represent a specific month of a specific year."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span> <span class="o">=</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Human-readable Month object format."""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">"</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Dev-friendly Month object format."""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(year=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">, month=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""Equality comparison of Month objects."""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Month</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""Less than comparison of Month objects."""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Month</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return the date of the first day of the Month."""</span>
        <span class="k">return</span> <span class="n">date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="month-formatting">
<h3>Month Formatting<a class="headerlink" href="#month-formatting" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Month</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">MonthTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> line which contains “Month Formatting”</p>
</div>
<p>To test this exercise, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Month</span></code> from the exercises directory.</p>
<p>In this exercise, make the <code class="docutils literal notranslate"><span class="pre">Month</span></code> class support the same custom string formatting parameters that <code class="docutils literal notranslate"><span class="pre">date</span></code> objects do:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">"The year is </span><span class="si">{</span><span class="n">m</span><span class="si">:</span><span class="s2">%Y</span><span class="si">}</span><span class="s2"> and it's a cold </span><span class="si">{</span><span class="n">m</span><span class="si">:</span><span class="s2">%B</span><span class="si">}</span><span class="s2"> morning."</span>
<span class="go">"The year is 1999 and it's a cold December morning."</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">"We're gonna party like it's {:%b %Y}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">"We're gonna party like it's Dec 1999"</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<p>To implement this, we can add a <code class="docutils literal notranslate"><span class="pre">__format__</span></code> method that delegates the formatting to the <code class="docutils literal notranslate"><span class="pre">__format__</span></code> method of <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>


<span class="k">def</span> <span class="fm">__format__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="p">):</span>
    <span class="sd">"""Support format of Month like datetime.date."""</span>
    <span class="k">return</span> <span class="n">date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="fm">__format__</span><span class="p">(</span><span class="n">fmt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="monthdelta">
<h3>MonthDelta<a class="headerlink" href="#monthdelta" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
It works in conjunction to the <code class="docutils literal notranslate"><span class="pre">Month</span></code> exercise above.</p>
<p>To test this exercise, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">MonthDelta</span></code> from the exercises directory.</p>
<p>Create the <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> class that has a <code class="docutils literal notranslate"><span class="pre">months</span></code> attribute.
The <code class="docutils literal notranslate"><span class="pre">Month</span></code> class and <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> class should both work with equality checks.
The <code class="docutils literal notranslate"><span class="pre">Month</span></code> class should already do this if you have implemented the “Comparable Month” exercise.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">month</span>
<span class="go">(1999, 12)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">==</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">months</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">==</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> class should be addable to and subtractable from <code class="docutils literal notranslate"><span class="pre">Month</span></code> objects (which should return new <code class="docutils literal notranslate"><span class="pre">Month</span></code> objects).</p>
<p>This can be achieved by adding functionality to the <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> class.</p>
<p>Subtracting two <code class="docutils literal notranslate"><span class="pre">Month</span></code> objects should result in a <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code>.
This will require added functionality to the <code class="docutils literal notranslate"><span class="pre">Month</span></code> class.
Also allow <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> objects to be added and subtracted from each other, returning another <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> object.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">+</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Month(2000, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">-</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Month(1999, 7)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Month</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="go">MonthDelta(241)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">MonthDelta(8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">-</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">MonthDelta(2)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Month</span></code> and <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> objects should raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when adding/subtracting with unknown objects</p>
<p>This might seem a bit odd because <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> <em>could</em> just be an integer, but there are benefits to having a separate <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> type.
You might want to look at the similar <code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code> object, if you haven’t played with it before.</p>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MonthDelta</span><span class="p">:</span>

    <span class="sd">"""Class representing the difference between months."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">months</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">=</span> <span class="n">months</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""MonthDelta equality comparison."""</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""Add Month and MonthDelta objects."""</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Month</span><span class="p">):</span>
            <span class="n">months</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">year</span> <span class="o">*</span> <span class="mi">12</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">month</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">months</span>
            <span class="n">year</span><span class="p">,</span> <span class="n">month</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">months</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Month</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="fm">__radd__</span> <span class="o">=</span> <span class="fm">__add__</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""Subtract MonthDelta objects."""</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>
</pre></div>
</div>
<p>Also add a <code class="docutils literal notranslate"><span class="pre">__sub__</span></code> method to the <code class="docutils literal notranslate"><span class="pre">Month</span></code> class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="sd">"""Subtract Month objects from each other or MonthDelta</span>
<span class="sd">    object from Month object."""</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Month</span><span class="p">):</span>
        <span class="n">months</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="o">*</span><span class="mi">12</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span> <span class="o">-</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">year</span><span class="o">*</span><span class="mi">12</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="n">months</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
        <span class="n">months</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="o">*</span><span class="mi">12</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span>
        <span class="n">year</span><span class="p">,</span> <span class="n">month</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">months</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Month</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">NotImplemented</span>
</pre></div>
</div>
</div>
<div class="section" id="monthdelta-arithmetic">
<h3>MonthDelta Arithmetic<a class="headerlink" href="#monthdelta-arithmetic" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">MonthDeltaTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> line which contains “MonthDelta Arithmetic”</p>
</div>
<p>To test this exercise, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">MonthDelta</span></code> from the exercises directory.</p>
<p>Make <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> objects support more arithmetic operations: scaling, modulo, and negation operations.</p>
<p>Your <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> objects should be:</p>
<ul class="simple">
<li><p>scalable by integers with <code class="docutils literal notranslate"><span class="pre">*</span></code></p></li>
<li><p>dividable by other <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> objects with <code class="docutils literal notranslate"><span class="pre">/</span></code></p></li>
<li><p>dividable with both <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> objects and integers with <code class="docutils literal notranslate"><span class="pre">//</span></code></p></li>
<li><p>modulo-able with both <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> objects and integers</p></li>
<li><p>Negatable (using the unary <code class="docutils literal notranslate"><span class="pre">-</span></code> sign)</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span>
<span class="go">MonthDelta(10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">MonthDelta(-10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">/</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">//</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
<span class="go">MonthDelta(2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span>
<span class="go">MonthDelta(1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">%</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">MonthDelta(-5)</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<p>Here are the methods to add to the <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Unary negation operation"""</span>
    <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span><span class="p">)</span>

<span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="sd">"""Multiply with an integer"""</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">*</span> <span class="n">other</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">NotImplemented</span>

<span class="fm">__rmul__</span> <span class="o">=</span> <span class="fm">__mul__</span>

<span class="k">def</span> <span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="sd">"""True division of MonthDelta objects"""</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">/</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span>
    <span class="k">return</span> <span class="bp">NotImplemented</span>

<span class="k">def</span> <span class="fm">__floordiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="sd">"""Floor division of MonthDelta with MonthDelta or integer"""</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">//</span> <span class="n">other</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">//</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span>
    <span class="k">return</span> <span class="bp">NotImplemented</span>

<span class="k">def</span> <span class="fm">__mod__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="sd">"""Modulo of MonthDelta with MonthDelta or integer"""</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">%</span> <span class="n">other</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">%</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span>
    <span class="k">return</span> <span class="bp">NotImplemented</span>
</pre></div>
</div>
</div>
<div class="section" id="truthy-account">
<h3>Truthy Account<a class="headerlink" href="#truthy-account" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.</p>
<p>Edit the <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> class in the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file to make account objects truthy when the bank account has money in it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test these changes, you should modify the <code class="docutils literal notranslate"><span class="pre">BankAccountTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the lines which contain “Truthy BankAccount”.</p>
</div>
<p>Take the <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> class that we’ve seen already and make account objects truthy when the bank account has money in it.</p>
<p>Example usage:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">trey_account</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">trey_account</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trey_account</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">trey_account</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>You can use this class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(balance=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">__bool__</span></code> method</p>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(balance=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>
</pre></div>
</div>
</div>
<div class="section" id="comparable-bankaccount">
<h3>Comparable BankAccount<a class="headerlink" href="#comparable-bankaccount" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.</p>
<p>Modify our <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> class to allow accounts to be compared using arithmetic comparison operators.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test these changes, you should modify the <code class="docutils literal notranslate"><span class="pre">BankAccountTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to remove the <code class="docutils literal notranslate"><span class="pre">unittest.skip</span></code> lines which contain “Comparable BankAccount”</p>
</div>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">account1</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="n">balance</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">account2</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="n">balance</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">account1</span> <span class="o">==</span> <span class="n">account2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">account1</span> <span class="o">&lt;</span> <span class="n">account2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">account1</span> <span class="o">&gt;=</span> <span class="n">account2</span>
<span class="go">False</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">total_ordering</span>

<span class="nd">@total_ordering</span>
<span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(balance=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">balance</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">balance</span>

    <span class="k">def</span> <span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="interface-exercises">
<h2>Interface Exercises<a class="headerlink" href="#interface-exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="month-from-date">
<h3>Month From Date<a class="headerlink" href="#month-from-date" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Month</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">MonthTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines which contain “Month from_date”</p>
</div>
<p>Add a <code class="docutils literal notranslate"><span class="pre">from_date</span></code> class method which will create a new month from a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> object.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nye99</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dec99</span> <span class="o">=</span> <span class="n">Month</span><span class="o">.</span><span class="n">from_date</span><span class="p">(</span><span class="n">nye99</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dec99</span>
<span class="go">Month(1999, 12)</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_date</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">date_</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">date_</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">date_</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="romannumeral-from-integer">
<h3>RomanNumeral From Integer<a class="headerlink" href="#romannumeral-from-integer" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">RomanNumeralTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">dunder_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines which contain “RomanNumeral from_int”</p>
</div>
<p>Modify your <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> class to add an alternate constructor, <code class="docutils literal notranslate"><span class="pre">from_int</span></code>, which will make a <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> object from an equivalent integer:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">RomanNumeral</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">RomanNumeral('IV')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nineteen_ninety_nine</span> <span class="o">=</span> <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="mi">1999</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">nineteen_ninety_nine</span><span class="p">)</span>
<span class="go">'MCMXCIX'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">nineteen_ninety_nine</span><span class="p">)</span>
<span class="go">1999</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<p>You’ll need to make a <code class="docutils literal notranslate"><span class="pre">from_int</span></code> class method (you could make a static method, but a class method would be more appropriate) which calls <code class="docutils literal notranslate"><span class="pre">int_to_roman</span></code> to get an appropriate string before then calling making the new <code class="docutils literal notranslate"><span class="pre">RomanNumeral</span></code> object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">int_to_roman</span><span class="p">(</span><span class="n">integer</span><span class="p">):</span>
    <span class="n">numeral</span> <span class="o">=</span> <span class="s2">""</span>
    <span class="k">for</span> <span class="n">value</span><span class="p">,</span> <span class="n">symbols</span> <span class="ow">in</span> <span class="n">RomanNumeral</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">integer</span> <span class="o">&gt;=</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">integer</span> <span class="o">-=</span> <span class="n">value</span>
            <span class="n">numeral</span> <span class="o">+=</span> <span class="n">symbols</span>
    <span class="k">return</span> <span class="n">numeral</span>

<span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_int</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">integer</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">int_to_roman</span><span class="p">(</span><span class="n">integer</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="hidden-balance">
<h3>Hidden Balance<a class="headerlink" href="#hidden-balance" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">BankAccountTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines which contain “Hidden Balance”</p>
</div>
<p>To test this exercise, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">BankAccount</span></code> from the exercises directory.</p>
<p>Don’t reveal any hidden mutable <code class="docutils literal notranslate"><span class="pre">balance</span></code>-holding attributes in your class’s <code class="docutils literal notranslate"><span class="pre">dir</span></code> output:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">account</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">dir</span><span class="p">(</span><span class="n">account</span><span class="p">)</span>
<span class="go">['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'balance', 'deposit', 'transfer', 'withdraw']</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<p>You’ll need to make sure you don’t reveal any balance-related attributes in your <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code> class’s <code class="docutils literal notranslate"><span class="pre">dir</span></code> output.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__dir__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">attr</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__dir__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="o">!=</span> <span class="s1">'_balance'</span>
    <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="inheritance-exercises">
<h2>Inheritance Exercises<a class="headerlink" href="#inheritance-exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cyclic-list">
<h3>Cyclic List<a class="headerlink" href="#cyclic-list" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">CyclicList</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">inheritance.py</span></code>.</p>
<p>Create a list-like data structure that loops in a cyclic manner:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">inheritance</span> <span class="kn">import</span> <span class="n">CyclicList</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span> <span class="o">=</span> <span class="n">CyclicList</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span><span class="p">[</span><span class="mi">35</span><span class="p">]</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_list</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_list</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_list</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">UserList</span>

<span class="k">class</span> <span class="nc">CyclicList</span><span class="p">(</span><span class="n">UserList</span><span class="p">):</span>

    <span class="sd">"""Class with list-like structure that loops cyclicly."""</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setitem__</span><span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="easy-dict">
<h3>Easy Dict<a class="headerlink" href="#easy-dict" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">EasyDict</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">inheritance.py</span></code>.  Edit the file  <code class="docutils literal notranslate"><span class="pre">inheritance.py</span></code> in the exercises directory to implement this exercise.  To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">EasyDict</span></code> from the exercises directory.</p>
<p>Make an <code class="docutils literal notranslate"><span class="pre">EasyDict</span></code> class that can be used with both attribute and item syntax.
It should take an optional dictionary as initial input.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">EasyDict</span><span class="p">({</span><span class="s1">'ball'</span><span class="p">:</span> <span class="s2">"purple"</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">ball</span>
<span class="go">'purple'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="s1">'shoe'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"blue"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">shoe</span>
<span class="go">"blue"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="s1">'shoe'</span><span class="p">]</span>
<span class="go">"blue"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">EasyDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">car</span> <span class="o">=</span> <span class="s2">"green"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s1">'car'</span><span class="p">]</span>
<span class="go">"green"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s1">'car'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"yellow"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">car</span>
<span class="go">'yellow'</span>
</pre></div>
</div>
<p>These <code class="docutils literal notranslate"><span class="pre">EasyDict</span></code> objects should accept keyword arguments, support equality, and have a <code class="docutils literal notranslate"><span class="pre">get</span></code> method, just like dictionaries:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">EasyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">location</span>
<span class="go">'San Diego'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">==</span> <span class="n">EasyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">==</span> <span class="n">EasyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'profession'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'profession'</span><span class="p">,</span> <span class="s1">'unknown'</span><span class="p">)</span>
<span class="go">'unknown'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'unknown'</span><span class="p">)</span>
<span class="go">'Trey Hunner'</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You could use the <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> and <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> methods</p>
</div>
<p><strong>Answers</strong></p>
<p>You can do everything yourself:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">EasyDict</span><span class="p">:</span>

    <span class="sd">"""Dictionary-like class that allows attribute lookup."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapping</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapping</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span> <span class="o">==</span> <span class="n">other</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</pre></div>
</div>
<p>Another way to implement the initialization, using the system’s <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> internal dictionary of attributes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Mapping</span>


<span class="k">class</span> <span class="nc">EasyDict</span><span class="p">(</span><span class="n">Mapping</span><span class="p">):</span>

    <span class="sd">"""Dictionary-like class that allows attribute lookup."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
</pre></div>
</div>
<p>Yet another way is by inheriting from UserDict:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">UserDict</span>


<span class="k">class</span> <span class="nc">EasyDict</span><span class="p">(</span><span class="n">UserDict</span><span class="p">):</span>

    <span class="sd">"""Dictionary-like class that allows attribute lookup."""</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="minimum-balance">
<h3>Minimum Balance<a class="headerlink" href="#minimum-balance" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">MinimumBalanceAccount</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">inheritance.py</span></code>.</p>
<p>Create a class <code class="docutils literal notranslate"><span class="pre">MinimumBalanceAccount</span></code> which subclasses <code class="docutils literal notranslate"><span class="pre">BankAccount</span></code>.  This new class should raise an exception whenever the user attempts to withdraw so much money that their account goes below <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bank_account</span> <span class="kn">import</span> <span class="n">MinimumBalanceAccount</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_account</span> <span class="o">=</span> <span class="n">MinimumBalanceAccount</span><span class="p">()</span>
<span class="go">Account opened.</span>
<span class="go">Account balance is $0.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_account</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">$100 deposited.</span>
<span class="go">Account balance is $100.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_account</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">"bank_account.py"</span>, line <span class="m">45</span>, in <span class="n">withdraw</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Balance cannot be less than $0"</span><span class="p">)</span>
<span class="gr">ValueError</span>: <span class="n">Balance cannot be less than $0</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>

    <span class="sd">"""Base Bank account including an account balance."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(balance=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="si">}</span><span class="s2">)"</span>

    <span class="k">def</span> <span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>


<span class="k">class</span> <span class="nc">MinimumBalanceAccount</span><span class="p">(</span><span class="n">BankAccount</span><span class="p">):</span>

    <span class="sd">"""Bank account which does not allow balance to drop below zero."""</span>

    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-</span> <span class="n">amount</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Balance cannot be less than $0"</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="doubly-linked-node">
<h3>Doubly-Linked Node<a class="headerlink" href="#doubly-linked-node" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">DoublyLinkedNode</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">inheritance.py</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Node</span></code> class represents a node with multiple child nodes attached.</p>
<p>Printing a node displays the “ancestry” of the node, starting with the root or base node, separated by <code class="docutils literal notranslate"><span class="pre">/</span></code> between the nodes, and ending with the node requested.</p>
<p>Example of creating a root note and child nodes:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s1">'A'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child1</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s1">'1'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grandchild1</span> <span class="o">=</span> <span class="n">child1</span><span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grandchild2</span> <span class="o">=</span> <span class="n">child1</span><span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s1">'b'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child2</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s1">'2'</span><span class="p">)</span>
</pre></div>
</div>
<p>Examples of the string representations of these nodes:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">child1</span><span class="p">)</span>
<span class="go">A / 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">grandchild1</span><span class="p">)</span>
<span class="go">A / 1 / a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child1</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'9'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">grandchild2</span><span class="p">)</span>
<span class="go">A / 9 / b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">child2</span><span class="p">)</span>
<span class="go">A / 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grandchild1</span><span class="o">.</span><span class="n">name</span>
<span class="go">'a'</span>
</pre></div>
</div>
<p>More examples:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="s2">"Universe"</span><span class="p">)</span>
<span class="go">          .make_child("Milky Way")</span>
<span class="go">          .make_child("Solar System")</span>
<span class="go">          .make_child("Earth")</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Universe / Milky Way / Solar System / Earth</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">red_panda</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="n">Node</span><span class="p">(</span><span class="s2">"Animalia"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s2">"Chordata"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s2">"Mammalia"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s2">"Carnivora"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s2">"Ailuridae"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s2">"Ailurus"</span><span class="p">)</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s2">"A. fulgens"</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">red_panda</span><span class="p">)</span>
<span class="go">Animalia / Chordata / Mammalia / Carnivora / Ailuridae / Ailurus / A. fulgens</span>
</pre></div>
</div>
<p>I’d like you to make a <code class="docutils literal notranslate"><span class="pre">DoublyLinkedNode</span></code> class that extends the <code class="docutils literal notranslate"><span class="pre">Node</span></code> class.
The method <code class="docutils literal notranslate"><span class="pre">leaves</span></code> returns all the children of the <code class="docutils literal notranslate"><span class="pre">DoublyLinkedNode</span></code>, or if there are no children, it returns a list containing only itself.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">classes</span> <span class="kn">import</span> <span class="n">DoublyLinkedNode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="n">DoublyLinkedNode</span><span class="p">(</span><span class="s1">'A'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child1</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s1">'1'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grandchild1</span> <span class="o">=</span> <span class="n">child1</span><span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grandchild2</span> <span class="o">=</span> <span class="n">child1</span><span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s1">'b'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child2</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="s1">'2'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">leaves</span><span class="p">()]</span>
<span class="go">['a', 'b', '2']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">child1</span><span class="o">.</span><span class="n">leaves</span><span class="p">()]</span>
<span class="go">['a', 'b']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">child2</span><span class="o">.</span><span class="n">leaves</span><span class="p">()]</span>
<span class="go">['2']</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="sd">"""Nodes for use in making hierarchies or trees."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">ancestors</span><span class="o">=</span><span class="p">[]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ancestors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ancestors</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">ancestors_and_self</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return iterable with our ordered ancestors and our own node."""</span>
        <span class="k">return</span> <span class="p">[</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">ancestors</span><span class="p">,</span> <span class="bp">self</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">make_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""Create and return a child node of the current node."""</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">ancestors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ancestors_and_self</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return a slash-delimited ancestors hierarchy for this node."""</span>
        <span class="k">return</span> <span class="s2">" / "</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
            <span class="n">node</span><span class="o">.</span><span class="n">name</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="p">[</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">ancestors</span><span class="p">,</span> <span class="bp">self</span><span class="p">]</span>
        <span class="p">])</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>


<span class="k">class</span> <span class="nc">DoublyLinkedNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>

    <span class="sd">"""Class with Nodes that are doubly-linked"""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">make_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""Create and return a child node of the current node."""</span>
        <span class="n">node</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">make_child</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">leaves</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return all leaves of the current node and all descendent nodes."""</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_leaf</span><span class="p">():</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="n">node</span>
                <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">child</span><span class="o">.</span><span class="n">leaves</span><span class="p">()</span>
            <span class="p">]</span>

    <span class="k">def</span> <span class="nf">is_leaf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return True if this node is a leaf (node which has no children)."""</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</pre></div>
</div>
</div>
<div class="section" id="fieldtrackermixin">
<h3>FieldTrackerMixin<a class="headerlink" href="#fieldtrackermixin" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">FieldTrackerMixin</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">inheritance.py</span></code>.</p>
<p>Make a <code class="docutils literal notranslate"><span class="pre">FieldTrackerMixin</span></code> class that tracks attributes that have changed on a class.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">FieldTrackerMixin</span></code> class will work with a base class that has a <code class="docutils literal notranslate"><span class="pre">save</span></code> method to track attributes that have changed since the last save.
You can see an example use below.</p>
<p>Given a <code class="docutils literal notranslate"><span class="pre">Model</span></code> base class which sets the attributes and has a <code class="docutils literal notranslate"><span class="pre">save</span></code> method like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Model</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Saving..."</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"Changed:"</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s2">"="</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Saved."</span><span class="p">)</span>
</pre></div>
</div>
<p>And given a <code class="docutils literal notranslate"><span class="pre">Point</span></code> class which inherits from <code class="docutils literal notranslate"><span class="pre">FieldTrackerMixin</span></code> and <code class="docutils literal notranslate"><span class="pre">Model</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="n">FieldTrackerMixin</span><span class="p">,</span> <span class="n">Model</span><span class="p">):</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="n">attrs</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">,</span> <span class="s1">'z'</span><span class="p">)</span>
</pre></div>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">Point</span></code> class should have <code class="docutils literal notranslate"><span class="pre">previous</span></code>, <code class="docutils literal notranslate"><span class="pre">has_changed</span></code>, and <code class="docutils literal notranslate"><span class="pre">changed</span></code> methods which work like this:</p>
<p>This class should have <code class="docutils literal notranslate"><span class="pre">previous</span></code>, <code class="docutils literal notranslate"><span class="pre">has_changed</span></code>, and <code class="docutils literal notranslate"><span class="pre">changed</span></code> methods which track the given fields and this tracking should be reset whenever the <code class="docutils literal notranslate"><span class="pre">save</span></code> method is called:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">previous</span><span class="p">(</span><span class="s1">'x'</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">has_changed</span><span class="p">(</span><span class="s1">'x'</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">previous</span><span class="p">(</span><span class="s1">'x'</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">has_changed</span><span class="p">(</span><span class="s1">'x'</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span>
<span class="go">{'x': 1}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">previous</span></code>, <code class="docutils literal notranslate"><span class="pre">has_changed</span></code>, and <code class="docutils literal notranslate"><span class="pre">changed</span></code> methods track the fields listed in the class’s <code class="docutils literal notranslate"><span class="pre">fields</span></code> attribute and the tracking should be reset whenever the <code class="docutils literal notranslate"><span class="pre">save</span></code> method is called.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span>
<span class="go">{'x': 1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="go">Saving...</span>
<span class="go">Changed: x = 1</span>
<span class="go">Saved.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span>
<span class="go">{}</span>
</pre></div>
</div>
<p>You can assume that:</p>
<ul class="simple">
<li><p>Child classes of <code class="docutils literal notranslate"><span class="pre">FieldTrackerMixin</span></code> will always define a <code class="docutils literal notranslate"><span class="pre">fields</span></code> attribute of the attributes to track</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">FieldTrackerMixin</span></code> will always be the first class inherited from</p></li>
<li><p>The initializer of child classes of <code class="docutils literal notranslate"><span class="pre">FieldTrackerMixin</span></code> will always call <code class="docutils literal notranslate"><span class="pre">super().__init__(*args,</span> <span class="pre">**kwargs)</span></code> appropriately after tracked attributes are set</p></li>
<li><p>Other parent classes will assign to the tracked attributes in their initializers</p></li>
<li><p>The resetting of fields should happen in the <code class="docutils literal notranslate"><span class="pre">save</span></code> method and all child classes will call <code class="docutils literal notranslate"><span class="pre">super().save()</span></code> if they override <code class="docutils literal notranslate"><span class="pre">save</span></code></p></li>
</ul>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FieldTrackerMixin</span><span class="p">:</span>

    <span class="sd">"""Mixin for tracking specific attribute changes."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">field</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">previous</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Field '</span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">' not tracked."</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values</span><span class="p">[</span><span class="n">field</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">has_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous</span><span class="p">(</span><span class="n">field</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">changed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">field</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_changed</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
        <span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span><span class="p">,</span> <span class="n">ABC</span>


<span class="k">class</span> <span class="nc">FieldTrackerMixin</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>

    <span class="sd">"""Mixin for tracking specific attribute changes."""</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">field</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">previous</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Field '</span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">' not tracked."</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values</span><span class="p">[</span><span class="n">field</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">has_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous</span><span class="p">(</span><span class="n">field</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">changed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">field</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_changed</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
        <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="last-updated-dictionary">
<h3>Last Updated Dictionary<a class="headerlink" href="#last-updated-dictionary" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">LastUpdatedDictionary</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">inheritance.py</span></code>.</p>
<p>Make a class <code class="docutils literal notranslate"><span class="pre">LastUpdatedDictionary</span></code> that maintains its items in last-updated order.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">LastUpdatedDictionary</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">LastUpdatedDictionary([('a', 1), ('b', 2), ('c', 3)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">'b'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">LastUpdatedDictionary([('a', 1), ('c', 3), ('b', 1)])</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Consider inheriting from the <code class="docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code> class which maintains its values in insertion order.</p>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>


<span class="k">class</span> <span class="nc">LastUpdatedDictionary</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setitem__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="orderedcounter">
<h3>OrderedCounter<a class="headerlink" href="#orderedcounter" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">OrderedCounter</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">inheritance.py</span></code>.</p>
<p>Make a class <code class="docutils literal notranslate"><span class="pre">OrderedCounter</span></code> that acts like <code class="docutils literal notranslate"><span class="pre">collections.Counter</span></code> except that it maintains its items in last-updated order (like <code class="docutils literal notranslate"><span class="pre">LastUpdatedDictionary</span></code> above).</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">OrderedCounter</span><span class="p">(</span><span class="s1">'hello there'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">OrderedCounter([('a', 1), ('b', 2), ('c', 3)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">'b'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">OrderedCounter([('a', 1), ('c', 3), ('b', 1)])</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Consider inheriting from the <code class="docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code> class which maintains its values in insertion order.</p>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span><span class="p">,</span> <span class="n">OrderedDict</span>


<span class="k">class</span> <span class="nc">LastUpdatedDictionary</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setitem__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">OrderedCounter</span><span class="p">(</span><span class="n">Counter</span><span class="p">,</span> <span class="n">LastUpdatedDictionary</span><span class="p">):</span>
    <span class="sd">"""Counter that maintains items in update order."""</span>
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">LastUpdatedDictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2">)"</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="class-refactoring-exercises">
<h2>Class Refactoring Exercises<a class="headerlink" href="#class-refactoring-exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="next-date">
<h3>Next Date<a class="headerlink" href="#next-date" title="Permalink to this headline">¶</a></h3>
<p>Make a class called <code class="docutils literal notranslate"><span class="pre">NextDate</span></code> which will help figure out the date and number of days until the next given weekday.
Also make a <code class="docutils literal notranslate"><span class="pre">Weekday</span></code> class with attributes that represent each weekday.
These can be found in the <code class="docutils literal notranslate"><span class="pre">refactoring.py</span></code> file in the exercise folder.</p>
<p>So if it’s Friday December 31, 1999 and we want to figure out when next Thursday is, we could do this:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="go">datetime.date(1999, 12, 31)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">next_thursday</span> <span class="o">=</span> <span class="n">NextDate</span><span class="p">(</span><span class="n">Weekday</span><span class="o">.</span><span class="n">THURSDAY</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">next_thursday</span><span class="o">.</span><span class="n">days_until</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">next_thursday</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
<span class="go">datetime.date(2000, 1, 6)</span>
</pre></div>
</div>
<p>When the current date changes, these methods should update their values as well.
For example on Saturday January 1, 2000, it should only be 5 days until next Thursday:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="go">datetime.date(2000, 1, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">next_thursday</span><span class="o">.</span><span class="n">days_until</span><span class="p">()</span>
<span class="go">5</span>
</pre></div>
</div>
<p>If the current date matches the given weekday, the date returned should be today and <code class="docutils literal notranslate"><span class="pre">days_until</span></code> should return <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span>

<span class="k">class</span> <span class="nc">Weekday</span><span class="p">:</span>
    <span class="sd">"""Class with attributes representing weekdays."""</span>
    <span class="n">MONDAY</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">TUESDAY</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">WEDNESDAY</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">THURSDAY</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">FRIDAY</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">SATURDAY</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">SUNDAY</span> <span class="o">=</span> <span class="mi">6</span>


<span class="k">class</span> <span class="nc">NextDate</span><span class="p">:</span>

    <span class="sd">"""Answers questions about the next Monday/Tuesday/etc."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weekday</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weekday</span> <span class="o">=</span> <span class="n">weekday</span>

    <span class="k">def</span> <span class="nf">date</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">today</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">today</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">weekday</span> <span class="o">-</span> <span class="n">today</span><span class="o">.</span><span class="n">weekday</span><span class="p">())</span> <span class="o">%</span> <span class="mi">7</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">days_until</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">date</span><span class="p">()</span> <span class="o">-</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span><span class="o">.</span><span class="n">days</span>
</pre></div>
</div>
</div>
<div class="section" id="next-date-functions">
<h3>Next Date Functions<a class="headerlink" href="#next-date-functions" title="Permalink to this headline">¶</a></h3>
<p>Write two functions, <code class="docutils literal notranslate"><span class="pre">next_date</span></code> and <code class="docutils literal notranslate"><span class="pre">days_until</span></code>, which replace the functionality of the <code class="docutils literal notranslate"><span class="pre">NextDate</span></code> class.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">next_date</span><span class="p">(</span><span class="n">Weekday</span><span class="o">.</span><span class="n">FRIDAY</span><span class="p">)</span>
<span class="go">datetime.date(1999, 12, 31)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">days_until</span><span class="p">(</span><span class="n">Weekday</span><span class="o">.</span><span class="n">FRIDAY</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">next_date</span><span class="p">(</span><span class="n">Weekday</span><span class="o">.</span><span class="n">FRIDAY</span><span class="p">,</span> <span class="n">after_today</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">datetime.date(2000, 1, 7)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">days_until</span><span class="p">(</span><span class="n">Weekday</span><span class="o">.</span><span class="n">FRIDAY</span><span class="p">,</span> <span class="n">after_today</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">7</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span>

<span class="k">def</span> <span class="nf">next_date</span><span class="p">(</span><span class="n">weekday</span><span class="p">,</span> <span class="n">after_today</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days_until</span><span class="p">(</span><span class="n">weekday</span><span class="p">,</span> <span class="n">after_today</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">days_until</span><span class="p">(</span><span class="n">weekday</span><span class="p">,</span> <span class="n">after_today</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">weekday</span> <span class="o">-</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">after_today</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">timedelta</span><span class="p">((</span><span class="n">diff</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">7</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">days</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">diff</span> <span class="o">%</span> <span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">days</span>
</pre></div>
</div>
</div>
<div class="section" id="next-tuesday">
<h3>Next Tuesday<a class="headerlink" href="#next-tuesday" title="Permalink to this headline">¶</a></h3>
<p>Make two functions that act just like <code class="docutils literal notranslate"><span class="pre">next_date</span></code> and <code class="docutils literal notranslate"><span class="pre">days_until</span></code> but which specifically work for Tuesday: <code class="docutils literal notranslate"><span class="pre">next_tuesday</span></code> and <code class="docutils literal notranslate"><span class="pre">days_to_tuesday</span></code>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">next_tuesday</span><span class="p">(</span><span class="n">after_today</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">datetime.date(2000, 1, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">days_to_tuesday</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span>

<span class="k">def</span> <span class="nf">next_tuesday</span><span class="p">(</span><span class="n">after_today</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">next_date</span><span class="p">(</span><span class="n">Weekday</span><span class="o">.</span><span class="n">TUESDAY</span><span class="p">,</span> <span class="n">after_today</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">days_to_tuesday</span><span class="p">(</span><span class="n">after_today</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">days_until</span><span class="p">(</span><span class="n">Weekday</span><span class="o">.</span><span class="n">TUESDAY</span><span class="p">,</span> <span class="n">after_today</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="email-server">
<h3>Email Server<a class="headerlink" href="#email-server" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">IMAPChecker</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">refactoring.py</span></code>.</p>
<p>The below code includes a <code class="docutils literal notranslate"><span class="pre">get_connection</span></code> function which returns a mail server object and three other functions that accept a mail server object as their first argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">email.parser</span> <span class="kn">import</span> <span class="n">Parser</span>
<span class="kn">from</span> <span class="nn">imaplib</span> <span class="kn">import</span> <span class="n">IMAP4_SSL</span>

<span class="k">def</span> <span class="nf">get_connection</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
    <span class="sd">"""Initialize IMAP server and login"""</span>
    <span class="n">server</span> <span class="o">=</span> <span class="n">IMAP4_SSL</span><span class="p">(</span><span class="n">host</span><span class="p">)</span>
    <span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
    <span class="n">server</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"inbox"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">server</span>

<span class="k">def</span> <span class="nf">close_connection</span><span class="p">(</span><span class="n">server</span><span class="p">):</span>
    <span class="n">server</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">server</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_message_uids</span><span class="p">(</span><span class="n">server</span><span class="p">):</span>
    <span class="sd">"""Return unique identifiers for each message"""</span>
    <span class="k">return</span> <span class="n">server</span><span class="o">.</span><span class="n">uid</span><span class="p">(</span><span class="s2">"search"</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">"ALL"</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_message</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">uid</span><span class="p">):</span>
    <span class="sd">"""Get email message identified by given UID"""</span>
    <span class="n">result</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">uid</span><span class="p">(</span><span class="s2">"fetch"</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="s2">"(RFC822)"</span><span class="p">)</span>
    <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">message_text</span><span class="p">),</span> <span class="n">_</span> <span class="o">=</span> <span class="n">data</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">Parser</span><span class="p">()</span><span class="o">.</span><span class="n">parsestr</span><span class="p">(</span><span class="n">message_text</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">message</span>
</pre></div>
</div>
<p>Here’s an example usage of that code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">server</span> <span class="o">=</span> <span class="n">get_connection</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">message</span>
    <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="n">get_message_uids</span><span class="p">(</span><span class="n">server</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">close_connection</span><span class="p">(</span><span class="n">server</span><span class="p">)</span>
</pre></div>
</div>
<p>I’d like you to refactor that code to use a class instead.  It should work just like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">server</span> <span class="o">=</span> <span class="n">IMAPChecker</span><span class="p">(</span><span class="n">host</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">authenticate</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">message</span>
    <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="n">server</span><span class="o">.</span><span class="n">get_message_uids</span><span class="p">()</span>
<span class="p">]</span>
<span class="n">server</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">email.parser</span> <span class="kn">import</span> <span class="n">Parser</span>
<span class="kn">from</span> <span class="nn">imaplib</span> <span class="kn">import</span> <span class="n">IMAP4_SSL</span>

<span class="k">class</span> <span class="nc">IMAPChecker</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">host</span><span class="p">):</span>
        <span class="sd">"""Initialize IMAP email server with given host"""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server</span> <span class="o">=</span> <span class="n">IMAP4_SSL</span><span class="p">(</span><span class="n">host</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">authenticate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
        <span class="sd">"""Authenticate with email server"""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"inbox"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">quit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_message_uids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return unique identifiers for each message"""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">uid</span><span class="p">(</span><span class="s2">"search"</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">"ALL"</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uid</span><span class="p">):</span>
        <span class="sd">"""Get email message identified by given UID"""</span>
        <span class="n">result</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">uid</span><span class="p">(</span><span class="s2">"fetch"</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="s2">"(RFC822)"</span><span class="p">)</span>
        <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">message_text</span><span class="p">),</span> <span class="n">_</span> <span class="o">=</span> <span class="n">data</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">Parser</span><span class="p">()</span><span class="o">.</span><span class="n">parsestr</span><span class="p">(</span><span class="n">message_text</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">message</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dataclass-exercises">
<h2>Dataclass Exercises<a class="headerlink" href="#dataclass-exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="immutable-vector">
<h3>Immutable Vector<a class="headerlink" href="#immutable-vector" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Vector</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test these changes, you will need to modify the <code class="docutils literal notranslate"><span class="pre">VectorTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">properties_test.py</span></code> to remove or comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> line that contains “Vector Immutability”.</p>
</div>
<p>Modify your <code class="docutils literal notranslate"><span class="pre">Vector</span></code> class we defined earlier so that it is immutable (vector objects can’t be changed after they’re created):</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">properties</span> <span class="kn">import</span> <span class="n">Vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">AttributeError</span>: <span class="n">can't set attribute</span>
</pre></div>
</div>
<p>Your <code class="docutils literal notranslate"><span class="pre">Vector</span></code> class <em>shouldn’t</em> act like a tuple though.</p>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Vector</span><span class="p">:</span>

    <span class="sd">"""Class representing a 3 dimensional vector."""</span>

    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">x1</span><span class="o">+</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="o">+</span><span class="n">y2</span><span class="p">,</span> <span class="n">z1</span><span class="o">+</span><span class="n">z2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">x1</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="o">-</span><span class="n">y2</span><span class="p">,</span> <span class="n">z1</span><span class="o">-</span><span class="n">z2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scalar</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scalar</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">scalar</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">scalar</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">scalar</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Comparable Month<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Month</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">MonthTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines which contains  “Comparable Month”</p>
</div>
<p>To test this exercise, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Month</span></code> from the exercises directory.</p>
<p>Add the ability to make <code class="docutils literal notranslate"><span class="pre">Month</span></code> instances be comparable to each other using equality and ordering operators.
<code class="docutils literal notranslate"><span class="pre">Month</span></code> objects <em>should not</em> be comparable to tuples, lists, <code class="docutils literal notranslate"><span class="pre">date</span></code> objects, or other non-<code class="docutils literal notranslate"><span class="pre">Month</span></code> objects (just as tuples and lists are not comparable to each other).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Try to use a dataclass to solve this.</p>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">classes</span> <span class="kn">import</span> <span class="n">Month</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">=</span> <span class="n">Month</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pycon_2019</span> <span class="o">=</span> <span class="n">Month</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">==</span> <span class="n">Month</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">==</span> <span class="n">pycon_2019</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">&lt;</span> <span class="n">pycon_2019</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python2_eol</span> <span class="o">&gt;</span> <span class="n">pycon_2019</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">Month</span><span class="p">(</span><span class="mi">1998</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">Month</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)])</span>
<span class="go">[Month(1998, 12), Month(1999, 12), Month(2000, 1)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Month</span><span class="p">(</span><span class="mi">1998</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1998</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">'&lt;' not supported between instances of 'Month' and 'tuple'</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Month</span><span class="p">:</span>

    <span class="sd">"""Class where instances represent a specific month of a specific year."""</span>

    <span class="n">year</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">month</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Human-readable Month object format."""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">"</span>

    <span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return the date of the first day of the Month."""</span>
        <span class="k">return</span> <span class="n">date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="ice-cream-dataclasses">
<h3>Ice Cream DataClasses<a class="headerlink" href="#ice-cream-dataclasses" title="Permalink to this headline">¶</a></h3>
<p>Rewrite the <code class="docutils literal notranslate"><span class="pre">Size</span></code>, <code class="docutils literal notranslate"><span class="pre">Flavor</span></code>, and <code class="docutils literal notranslate"><span class="pre">IceCream</span></code> classes in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> using data classes.</p>
<p>You can test each of these classes by running tests for <code class="docutils literal notranslate"><span class="pre">Size</span></code>, <code class="docutils literal notranslate"><span class="pre">Flavor</span></code>, and <code class="docutils literal notranslate"><span class="pre">IceCream</span></code>.</p>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Flavor</span><span class="p">:</span>

    <span class="sd">"""Flavor of ice cream."""</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">ingredients</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">tuple</span><span class="p">)</span>
    <span class="n">has_dairy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Copy given ingredients iterable."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ingredients</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ingredients</span><span class="p">)</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Size</span><span class="p">:</span>

    <span class="sd">"""Ice cream size."""</span>

    <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">unit</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">price</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">units</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantity</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">unit</span><span class="si">}</span><span class="s2">s"</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">quantity</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">units</span><span class="si">}</span><span class="s2">"</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">IceCream</span><span class="p">:</span>

    <span class="sd">"""Ice cream to be ordered in our ice cream shop."""</span>

    <span class="n">flavor</span><span class="p">:</span> <span class="n">Flavor</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">Size</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>MonthDelta<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code>.
It works in conjunction to the <code class="docutils literal notranslate"><span class="pre">Month</span></code> exercise from earlier.</p>
<p>To test this exercise, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">MonthDelta</span></code> from the exercises directory.</p>
<p>Create the <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> class that has a <code class="docutils literal notranslate"><span class="pre">months</span></code> attribute.
The <code class="docutils literal notranslate"><span class="pre">Month</span></code> class and <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> class should both work with equality checks.
The <code class="docutils literal notranslate"><span class="pre">Month</span></code> class should already do this if you have implemented the “Comparable Month” exercise.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">month</span>
<span class="go">(1999, 12)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">==</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">months</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">==</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> class should be addable to and subtractable from <code class="docutils literal notranslate"><span class="pre">Month</span></code> objects (which should return new <code class="docutils literal notranslate"><span class="pre">Month</span></code> objects).</p>
<p>This can be achieved by adding functionality to the <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Try to use a dataclass to solve this.</p>
</div>
<p>Subtracting two <code class="docutils literal notranslate"><span class="pre">Month</span></code> objects should result in a <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code>.
This will require added functionality to the <code class="docutils literal notranslate"><span class="pre">Month</span></code> class.
Also allow <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> objects to be added and subtracted from each other, returning another <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> object.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">+</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Month(2000, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">-</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Month(1999, 7)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Month</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="go">MonthDelta(241)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">MonthDelta(8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MonthDelta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">-</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">MonthDelta(2)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Month</span></code> and <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> objects should raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when adding/subtracting with unknown objects</p>
<p>This might seem a bit odd because <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> <em>could</em> just be an integer, but there are benefits to having a separate <code class="docutils literal notranslate"><span class="pre">MonthDelta</span></code> type.
You might want to look at the similar <code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code> object, if you haven’t played with it before.</p>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">MonthDelta</span><span class="p">:</span>

    <span class="sd">"""Class representing the difference between months."""</span>

    <span class="n">months</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="fm">__radd__</span> <span class="o">=</span> <span class="fm">__add__</span>

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">*</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="fm">__rmul__</span> <span class="o">=</span> <span class="fm">__mul__</span>

    <span class="k">def</span> <span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">/</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="fm">__floordiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">//</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">//</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="fm">__mod__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">%</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">%</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="fm">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MonthDelta</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">MonthDelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">months</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">months</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>
</pre></div>
</div>
</div>
<div class="section" id="immutable-month">
<h3>Immutable Month<a class="headerlink" href="#immutable-month" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Month</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">MonthTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines which contains  “Immutable Month”</p>
</div>
<p>To test this exercise, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Month</span></code> from the exercises directory.</p>
<p>Make <code class="docutils literal notranslate"><span class="pre">Month</span></code> instances immutable: meaning they cannot be changed after they’ve been initialized.</p>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">calendar</span> <span class="kn">import</span> <span class="n">monthrange</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Month</span><span class="p">:</span>

    <span class="n">year</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">month</span><span class="p">:</span> <span class="nb">int</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'year'</span><span class="p">,</span> <span class="s1">'month'</span><span class="p">,</span> <span class="s1">'first_day'</span><span class="p">,</span> <span class="s1">'last_day'</span><span class="p">]</span>  <span class="c1"># This is discussed later</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">weekday_of_first_date</span><span class="p">,</span> <span class="n">last_date</span> <span class="o">=</span> <span class="n">monthrange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="s1">'first_day'</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="s1">'last_day'</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">last_date</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">"</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_date</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">date_obj</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">date_obj</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">date_obj</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">strftime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">first_day</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">fmt</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-exercises">
<h2>Advanced Exercises<a class="headerlink" href="#advanced-exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="iterable-vector">
<h3>Iterable Vector<a class="headerlink" href="#iterable-vector" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Vector</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test these changes, you will need to modify the <code class="docutils literal notranslate"><span class="pre">VectorTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">properties_test.py</span></code> to remove or comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> line that contains “Vector Iterability”.</p>
</div>
<p>Modify your <code class="docutils literal notranslate"><span class="pre">Vector</span></code> class we defined earlier so that it can be used with multiple assignment, like this:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">properties</span> <span class="kn">import</span> <span class="n">Vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">v</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span>
<span class="go">6</span>
</pre></div>
</div>
<p>After you’ve modified your vector objects to work with multiple assignment, see if you can refactor the other <code class="docutils literal notranslate"><span class="pre">Vector</span></code> methods to improve readability.</p>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>


<span class="k">class</span> <span class="nc">Vector</span><span class="p">:</span>

    <span class="sd">"""Class representing a 3 dimensional vector."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">x1</span><span class="o">+</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="o">+</span><span class="n">y2</span><span class="p">,</span> <span class="n">z1</span><span class="o">+</span><span class="n">z2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">x1</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="o">-</span><span class="n">y2</span><span class="p">,</span> <span class="n">z1</span><span class="o">-</span><span class="n">z2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scalar</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scalar</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">scalar</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">scalar</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">scalar</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>

    <span class="fm">__rmul__</span> <span class="o">=</span> <span class="fm">__mul__</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">magnitude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return the magnitude of the Vector"""</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="memory-efficient-month">
<h3>Memory-Efficient Month<a class="headerlink" href="#memory-efficient-month" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Month</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">classes.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test the changes for this exercise, you should modify the <code class="docutils literal notranslate"><span class="pre">MonthTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">classes_test.py</span></code> to comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> lines which contain “Memory-Efficient Month”</p>
</div>
<p>Make your <code class="docutils literal notranslate"><span class="pre">Month</span></code> class more memory efficient by not using a <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> dictionary to store the attributes of each <code class="docutils literal notranslate"><span class="pre">Month</span></code> object.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dec99</span> <span class="o">=</span> <span class="n">Month</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dec99</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">AttributeError</span>: <span class="n">'Month' object has no attribute '__dict__'</span>
</pre></div>
</div>
<p><strong>Answers</strong></p>
<p>You’ll need to add a <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> attribute to restrict which attribute are allowed on <code class="docutils literal notranslate"><span class="pre">Month</span></code> objects:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Month</span><span class="p">:</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'year'</span><span class="p">,</span> <span class="s1">'month'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>Immutable Vector<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>This is a continuation of the <code class="docutils literal notranslate"><span class="pre">Vector</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> that we saw earlier.
Edit the <code class="docutils literal notranslate"><span class="pre">properties.py</span></code> file in the exercises directory to implement this exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test these changes, you will need to modify the <code class="docutils literal notranslate"><span class="pre">VectorTests</span></code> class in <code class="docutils literal notranslate"><span class="pre">properties_test.py</span></code> to remove or comment out the <code class="docutils literal notranslate"><span class="pre">@unittest.skip</span></code> line that contains “Vector Immutability”.</p>
</div>
<p>Modify your <code class="docutils literal notranslate"><span class="pre">Vector</span></code> class we defined earlier so that it is immutable (vector objects can’t be changed after they’re created):</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">properties</span> <span class="kn">import</span> <span class="n">Vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">AttributeError</span>: <span class="n">can't set attribute</span>
</pre></div>
</div>
<p>Your <code class="docutils literal notranslate"><span class="pre">Vector</span></code> class <em>shouldn’t</em> act like a tuple though.</p>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">astuple</span><span class="p">,</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Vector</span><span class="p">:</span>

    <span class="sd">"""Class representing a 3 dimensional vector."""</span>

    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">,</span> <span class="s1">'z'</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield from</span> <span class="n">astuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">x1</span><span class="o">+</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="o">+</span><span class="n">y2</span><span class="p">,</span> <span class="n">z1</span><span class="o">+</span><span class="n">z2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Vector</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">x1</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="o">-</span><span class="n">y2</span><span class="p">,</span> <span class="n">z1</span><span class="o">-</span><span class="n">z2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scalar</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scalar</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">scalar</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">scalar</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">scalar</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>

    <span class="fm">__rmul__</span> <span class="o">=</span> <span class="fm">__mul__</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">magnitude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return the magnitude of the Vector"""</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="timer">
<h3>Timer<a class="headerlink" href="#timer" title="Permalink to this headline">¶</a></h3>
<p>This is the <code class="docutils literal notranslate"><span class="pre">Timer</span></code> exercise in <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code>.
Edit the file <code class="docutils literal notranslate"><span class="pre">dunder.py</span></code> in the exercises directory to implement this exercise.
To test it, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">Timer</span></code> from the exercises directory.</p>
<p>Make a context manager called <code class="docutils literal notranslate"><span class="pre">Timer</span></code> which will record how long a block of code takes to execute.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">sleep</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timer</span><span class="o">.</span><span class="n">elapsed</span>
<span class="go">1.504882783210324</span>
</pre></div>
</div>
<p>You’ll need to look up which dunder methods are needed to make a context manager.</p>
<p><strong>Answers</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>


<span class="k">class</span> <span class="nc">Timer</span><span class="p">:</span>

    <span class="sd">"""Context manager to time a code block."""</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span>
</pre></div>
</div>
</div>
<div class="section" id="fancydict">
<h3>FancyDict<a class="headerlink" href="#fancydict" title="Permalink to this headline">¶</a></h3>
<p>Make an <code class="docutils literal notranslate"><span class="pre">FancyDict</span></code> class that accepts a dictionary as an argument and supports either key or attribute getting/setting:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">FancyDict</span><span class="p">({</span><span class="s1">'name'</span><span class="p">:</span> <span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="s1">'location'</span><span class="p">:</span> <span class="s2">"San Diego"</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">name</span>
<span class="go">'Trey Hunner'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="p">[</span><span class="s1">'location'</span><span class="p">]</span>
<span class="go">'San Diego'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="s2">"Portland"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="p">[</span><span class="s1">'location'</span><span class="p">]</span>
<span class="go">'Portland'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="p">[</span><span class="s1">'location'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"San Diego"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">location</span>
<span class="go">'San Diego'</span>
</pre></div>
</div>
<p>Keyword arguments should also be accepted when constructing an <code class="docutils literal notranslate"><span class="pre">FancyDict</span></code> object:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">FancyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">location</span>
<span class="go">'San Diego'</span>
</pre></div>
</div>
<p>Your <code class="docutils literal notranslate"><span class="pre">FancyDict</span></code> object should be very dictionary-like.</p>
<p><code class="docutils literal notranslate"><span class="pre">FancyDict</span></code> objects should support the dictionary <code class="docutils literal notranslate"><span class="pre">get</span></code> method for looking up an key/attribute that may not be present:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'profession'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'profession'</span><span class="p">,</span> <span class="s1">'unknown'</span><span class="p">)</span>
<span class="go">'unknown'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'unknown'</span><span class="p">)</span>
<span class="go">'Trey Hunner'</span>
</pre></div>
</div>
<p>Your <code class="docutils literal notranslate"><span class="pre">FancyDict</span></code> objects should have <code class="docutils literal notranslate"><span class="pre">keys</span></code>, <code class="docutils literal notranslate"><span class="pre">values</span></code>, <code class="docutils literal notranslate"><span class="pre">items</span></code>, and <code class="docutils literal notranslate"><span class="pre">pop</span></code> methods:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">FancyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">person</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">name location</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="go">['Trey Hunner', 'San Diego']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="go">dict_items([('name', 'Trey Hunner'), ('location', 'San Diego')])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">"name"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
<span class="go">"Trey Hunner"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">"name"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
<span class="go">''</span>
</pre></div>
</div>
<p>And your <code class="docutils literal notranslate"><span class="pre">FancyDict</span></code> objects should have a length and support containment checks:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">FancyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">"name"</span> <span class="ow">in</span> <span class="n">person</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">"age"</span> <span class="ow">in</span> <span class="n">person</span>
<span class="go">False</span>
</pre></div>
</div>
<p>And equality should be supported between <code class="docutils literal notranslate"><span class="pre">FancyDict</span></code> objects:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">==</span> <span class="n">FancyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">==</span> <span class="n">FancyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Also make sure that class attributes (like the <code class="docutils literal notranslate"><span class="pre">get</span></code> method before) aren’t seen as keys:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">FancyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"keys"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">"keys"</span> <span class="ow">in</span> <span class="n">person</span>
<span class="go">False</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">FancyDict</span></code> objects should have a <code class="docutils literal notranslate"><span class="pre">normalize</span></code> keyword argument which, if <code class="docutils literal notranslate"><span class="pre">True</span></code>, will “normalize” the spaces in keys to underscores in attributes:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">FancyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="p">[</span><span class="s1">'company name'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Truthful Technology LLC"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">company_name</span>
<span class="go">'Truthful Technology LLC'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="p">[</span><span class="s1">'company name'</span><span class="p">]</span>
<span class="go">'Truthful Technology LLC'</span>
</pre></div>
</div>
<p>And the built-in <code class="docutils literal notranslate"><span class="pre">dir</span></code> function should shows all the keys on <code class="docutils literal notranslate"><span class="pre">FancyDict</span></code> objects.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">FancyDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Trey Hunner"</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">"San Diego"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">'name'</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">'age'</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">&amp;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
<span class="go">{'name', 'location'}</span>
</pre></div>
</div>
</div>
</div>
</div>



           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="https://pythonic-classes.trey.io/resources.html" class="btn btn-neutral float-left" title="Further Resources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr>

  <div role="contentinfo">
    <p>
        © Copyright 2020, Trey Hunner

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   


</body></html>